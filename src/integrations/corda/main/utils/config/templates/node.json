{
  "type": "object",
  "required": [
    "myLegalName",
    "keyStorePassword",
    "trustStorePassword",
    "crlCheckSoftFail",
    "dataSourceProperties",
    "p2pAddress",
    "rpcSettings",
    "rpcUsers",
    "devMode"
  ],
  "properties": {
    "myLegalName": {
      "type": "string",
      "default": "O=Bank A,L=London,C=GB",
      "pattern": "^(.*)$"
    },
    "keyStorePassword": {
      "type": "string",
      "default": "cordacadevpass",
      "pattern": "^(.*)$"
    },
    "trustStorePassword": {
      "type": "string",
      "default":"trustpass",
      "pattern": "^(.*)$"
    },
    "crlCheckSoftFail": {
      "type": "boolean",
      "default": true
    },
    "dataSourceProperties": {
      "type": "object",
      "required": [
        "dataSourceClassName",
        "dataSource.url",
        "dataSource.user",
        "dataSource.password"
      ],
      "properties": {
        "dataSourceClassName": {
          "type": "className",
          "value" : "",
          "default": "org.h2.jdbcx.JdbcDataSource",
          "pattern": "^(.*)$"
        },
        "dataSource.url": {
          "type": "string",
          "default": "",
          "examples": "jdbc:h2:file:\"${baseDirectory}\"/persistence",
          "pattern": "^(.*)$"
        },
        "dataSource.user": {
          "type": "username",
          "default": "sa",
          "pattern": "^(.*)$"
        },
        "dataSource.password": {
          "type": "string",
          "default": "",
          "pattern": "^(.*)$"
        }
      }
    },
    "p2pAddress": {
      "type": "url",
      "default": "localhost:10002",
      "pattern": "^(.*)$"
    },
    "rpcSettings": {
      "type": "object",
      "required": [
        "useSsl",
        "standAloneBroker",
        "address",
        "adminAddress"
      ],
      "properties": {
        "useSsl": {
          "type": "boolean",
          "default": false
        },
        "standAloneBroker": {
          "type": "boolean",
          "default": false
        },
        "address": {
          "type": "url",
          "default": "localhost:10003",
          "pattern": "^(.*)$"
        },
        "adminAddress": {
          "type": "url",
          "default": "localhost:10004",
          "pattern": "^(.*)$"
        }
      }
    },
    "rpcUsers": {
      "type": "array",
      "items": {
        "type": "object",
        "required": [
          "username",
          "password",
          "permissions"
        ],
        "properties": {
          "username": {
            "type": "username",
            "default": "user1",
            "pattern": "^(.*)$"
          },
          "password": {
            "type": "password",
            "default": "letmein",
            "pattern": "^(.*)$"
          },
          "permissions": {
            "type": "permissionsArray",
            "items": {
              "type": "string",
              "required":[
                "ALL"
              ],
              "properties": {
                "ALL": {
                  "type": "string",
                  "default": "ALL",
                  "pattern": "^(.*)$"
                }
              }
            }
          }
        }
      }
    },
    "devMode": {
      "type": "boolean",
      "default": true
    }
  }
}
